<header id="main-header" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-white/95 backdrop-blur-md border-b border-neutral-200 shadow-sm">
  <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-20">
      <!-- Logo -->
      <div class="flex items-center">
        <a href="/" class="flex items-center space-x-3 hover:opacity-80 transition-opacity">
          <img src="/Logo Santre.jpeg" alt="Santre Industrial Logo" class="h-10 w-auto" />
          <div class="hidden sm:block">
            <span class="text-xl font-bold text-neutral-900">Santre</span>
            <span class="text-xl font-bold text-primary-600">Industrial</span>
          </div>
        </a>
      </div>
      
      <!-- Desktop Navigation -->
      <div class="hidden lg:flex items-center space-x-8">
        <a href="/#inicio" class="text-neutral-800 hover:text-primary-600 font-medium transition-colors">Inicio</a>
        
        <!-- Servicios Dropdown -->
        <div class="relative dropdown-container">
          <button class="dropdown-trigger text-neutral-800 hover:text-primary-600 font-medium transition-colors flex items-center">
            Servicios
            <svg class="w-4 h-4 ml-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div class="dropdown-menu absolute top-full left-0 mt-1 w-72 bg-white rounded-xl shadow-large border border-neutral-200 opacity-0 invisible transition-all duration-200 transform translate-y-2">
            <div class="p-3">
              <a href="/diseno-de-laboratorio" class="flex items-start px-4 py-3 text-sm text-neutral-700 hover:bg-primary-50 hover:text-primary-700 rounded-lg transition-colors group/item">
                <div class="w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center mr-3 group-hover/item:bg-primary-200 transition-colors">
                  <svg class="w-4 h-4 text-primary-600" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"/>
                  </svg>
                </div>
                <div>
                  <div class="font-semibold">Diseño de Laboratorio</div>
                  <div class="text-xs text-neutral-500 mt-1">Planificación integral y personalizada</div>
                </div>
              </a>
              <a href="/mobiliario-para-laboratorio-por-sector" class="flex items-start px-4 py-3 text-sm text-neutral-700 hover:bg-primary-50 hover:text-primary-700 rounded-lg transition-colors group/item">
                <div class="w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center mr-3 group-hover/item:bg-primary-200 transition-colors">
                  <svg class="w-4 h-4 text-primary-600" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"/>
                  </svg>
                </div>
                <div>
                  <div class="font-semibold">Mobiliario por Sector</div>
                  <div class="text-xs text-neutral-500 mt-1">Soluciones especializadas</div>
                </div>
              </a>
              <a href="/laboratorio-por-sector" class="flex items-start px-4 py-3 text-sm text-neutral-700 hover:bg-primary-50 hover:text-primary-700 rounded-lg transition-colors group/item">
                <div class="w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center mr-3 group-hover/item:bg-primary-200 transition-colors">
                  <svg class="w-4 h-4 text-primary-600" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zm6 7a1 1 0 011 1v3a1 1 0 11-2 0v-3a1 1 0 011-1zm-3 3a1 1 0 100 2h.01a1 1 0 100-2H10zm-4 1a1 1 0 011-1h.01a1 1 0 110 2H7a1 1 0 01-1-1zm1-4a1 1 0 100 2h.01a1 1 0 100-2H7zm2 1a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1zm4-4a1 1 0 100 2h.01a1 1 0 100-2H13zM9 9a1 1 0 011-1h.01a1 1 0 110 2H10a1 1 0 01-1-1zM7 8a1 1 0 000 2h.01a1 1 0 000-2H7z" clip-rule="evenodd"/>
                  </svg>
                </div>
                <div>
                  <div class="font-semibold">Laboratorios por Sector</div>
                  <div class="text-xs text-neutral-500 mt-1">Equipamiento especializado</div>
                </div>
              </a>
            </div>
          </div>
        </div>

        <!-- Empresa Dropdown -->
        <div class="relative dropdown-container">
          <button class="dropdown-trigger text-neutral-800 hover:text-primary-600 font-medium transition-colors flex items-center">
            Empresa
            <svg class="w-4 h-4 ml-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          <div class="dropdown-menu absolute top-full left-0 mt-1 w-72 bg-white rounded-xl shadow-large border border-neutral-200 opacity-0 invisible transition-all duration-200 transform translate-y-2">
            <div class="p-3">
              <a href="/laboratorios-santre" class="flex items-start px-4 py-3 text-sm text-neutral-700 hover:bg-primary-50 hover:text-primary-700 rounded-lg transition-colors group/item">
                <div class="w-8 h-8 bg-secondary-100 rounded-lg flex items-center justify-center mr-3 group-hover/item:bg-secondary-200 transition-colors">
                  <svg class="w-4 h-4 text-secondary-600" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"/>
                  </svg>
                </div>
                <div>
                  <div class="font-semibold">Sobre Santre Industrial</div>
                  <div class="text-xs text-neutral-500 mt-1">30 años de experiencia</div>
                </div>
              </a>
              <a href="/tecnologia-laboratorios" class="flex items-start px-4 py-3 text-sm text-neutral-700 hover:bg-primary-50 hover:text-primary-700 rounded-lg transition-colors group/item">
                <div class="w-8 h-8 bg-secondary-100 rounded-lg flex items-center justify-center mr-3 group-hover/item:bg-secondary-200 transition-colors">
                  <svg class="w-4 h-4 text-secondary-600" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"/>
                  </svg>
                </div>
                <div>
                  <div class="font-semibold">Tecnología y Metodología</div>
                  <div class="text-xs text-neutral-500 mt-1">Sistema 7 Zonas</div>
                </div>
              </a>
              <a href="/laboratorios-profesionales" class="flex items-start px-4 py-3 text-sm text-neutral-700 hover:bg-primary-50 hover:text-primary-700 rounded-lg transition-colors group/item">
                <div class="w-8 h-8 bg-secondary-100 rounded-lg flex items-center justify-center mr-3 group-hover/item:bg-secondary-200 transition-colors">
                  <svg class="w-4 h-4 text-secondary-600" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                  </svg>
                </div>
                <div>
                  <div class="font-semibold">Certificaciones</div>
                  <div class="text-xs text-neutral-500 mt-1">ISO 9001:2015</div>
                </div>
              </a>
            </div>
          </div>
        </div>

        <a href="/nuestros-clientes" class="text-neutral-800 hover:text-primary-600 font-medium transition-colors">Clientes</a>
        <a href="/#proyectos" class="text-neutral-800 hover:text-primary-600 font-medium transition-colors">Proyectos</a>
        <a href="/#contacto" class="brand-button-primary">
          Contacto
        </a>
      </div>
      
      <!-- Mobile menu button -->
      <div class="lg:hidden">
        <button id="mobile-menu-btn" class="text-neutral-800 hover:text-primary-600 p-2 rounded-lg transition-colors">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
    </div>
    
    <!-- Mobile Navigation -->
    <div id="mobile-menu" class="hidden lg:hidden pb-4 bg-white border-t border-neutral-200 mt-4">
      <div class="flex flex-col space-y-2 pt-4">
        <a href="/#inicio" class="text-neutral-700 hover:text-primary-600 font-medium transition-colors px-4 py-3 rounded-lg hover:bg-neutral-50">Inicio</a>
        
        <!-- Mobile Servicios -->
        <div class="px-4">
          <div class="text-neutral-900 font-semibold mb-3 text-sm uppercase tracking-wide">Servicios</div>
          <div class="pl-4 space-y-2 border-l-2 border-primary-200">
            <a href="/diseno-de-laboratorio" class="block text-neutral-700 hover:text-primary-600 transition-colors py-2 text-sm">Diseño de Laboratorio</a>
            <a href="/mobiliario-para-laboratorio-por-sector" class="block text-neutral-700 hover:text-primary-600 transition-colors py-2 text-sm">Mobiliario por Sector</a>
            <a href="/laboratorio-por-sector" class="block text-neutral-700 hover:text-primary-600 transition-colors py-2 text-sm">Laboratorios por Sector</a>
          </div>
        </div>

        <!-- Mobile Empresa -->
        <div class="px-4">
          <div class="text-neutral-900 font-semibold mb-3 text-sm uppercase tracking-wide">Empresa</div>
          <div class="pl-4 space-y-2 border-l-2 border-secondary-200">
            <a href="/laboratorios-santre" class="block text-neutral-700 hover:text-primary-600 transition-colors py-2 text-sm">Sobre Santre Industrial</a>
            <a href="/tecnologia-laboratorios" class="block text-neutral-700 hover:text-primary-600 transition-colors py-2 text-sm">Tecnología y Metodología</a>
            <a href="/laboratorios-profesionales" class="block text-neutral-700 hover:text-primary-600 transition-colors py-2 text-sm">Certificaciones</a>
          </div>
        </div>

        <a href="/nuestros-clientes" class="text-neutral-700 hover:text-primary-600 font-medium transition-colors px-4 py-3 rounded-lg hover:bg-neutral-50">Clientes</a>
        <a href="/#proyectos" class="text-neutral-700 hover:text-primary-600 font-medium transition-colors px-4 py-3 rounded-lg hover:bg-neutral-50">Proyectos</a>
        <div class="px-4 pt-4">
          <a href="/#contacto" class="brand-button-primary w-full text-center">
          Contacto
        </a>
        </div>
      </div>
    </div>
  </nav>
</header>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    let prevScrollPos = window.scrollY;
    let visible = true;
    let atTop = true;
    
    const header = document.getElementById('main-header');
    const navLinks = document.querySelectorAll('.text-neutral-800');
    
    const handleScroll = () => {
      const currentScrollPos = window.scrollY;
      
      // Check if we're at the top of the page
      atTop = currentScrollPos < 10;
      
      // Set the header visible based on scroll direction
      visible = prevScrollPos > currentScrollPos || currentScrollPos < 10;
      
      // Apply classes based on scroll position and visibility
      if (header) {
        if (!visible) {
          header.style.transform = 'translateY(-100%)';
        } else {
          header.style.transform = 'translateY(0)';
        }
        
        // Change background and styling based on scroll position
        if (atTop) {
          header.classList.remove('bg-white/95', 'backdrop-blur-md', 'border-b', 'border-neutral-200', 'shadow-sm');
          header.classList.add('bg-transparent');
          
          // Add text shadow to make text visible on hero image
          navLinks.forEach(link => {
            link.classList.add('text-shadow');
          });
        } else {
          header.classList.remove('bg-transparent');
          header.classList.add('bg-white/95', 'backdrop-blur-md', 'border-b', 'border-neutral-200', 'shadow-sm');
          
          // Remove text shadow when on white background
          navLinks.forEach(link => {
            link.classList.remove('text-shadow');
          });
        }
      }
      
      prevScrollPos = currentScrollPos;
    };
    
    window.addEventListener('scroll', handleScroll);
    
    // Initial call to set correct state on page load
    handleScroll();
    
    // Enhanced Dropdown functionality
    const dropdownContainers = document.querySelectorAll('.dropdown-container');
    let hideTimeout: number | null = null;
    
    dropdownContainers.forEach(container => {
      const trigger = container.querySelector('.dropdown-trigger');
      const menu = container.querySelector('.dropdown-menu');
      const icon = trigger?.querySelector('svg');
      
      if (!trigger || !menu) return;
      
      const showDropdown = () => {
        if (hideTimeout) {
          clearTimeout(hideTimeout);
          hideTimeout = null;
        }
        
        // Close all other dropdowns
        dropdownContainers.forEach(otherContainer => {
          if (otherContainer !== container) {
            const otherMenu = otherContainer.querySelector('.dropdown-menu');
            const otherIcon = otherContainer.querySelector('svg');
            if (otherMenu) {
              otherMenu.classList.add('opacity-0', 'invisible', 'translate-y-2');
            }
            if (otherIcon) {
              otherIcon.style.transform = 'rotate(0deg)';
            }
          }
        });
        
        menu.classList.remove('opacity-0', 'invisible', 'translate-y-2');
        if (icon) {
          icon.style.transform = 'rotate(180deg)';
        }
      };
      
      const hideDropdown = () => {
        hideTimeout = setTimeout(() => {
          menu.classList.add('opacity-0', 'invisible', 'translate-y-2');
          if (icon) {
            icon.style.transform = 'rotate(0deg)';
          }
        }, 150) as unknown as number; // Delay before hiding
      };
      
      // Mouse events for container
      container.addEventListener('mouseenter', showDropdown);
      container.addEventListener('mouseleave', hideDropdown);
      
      // Keyboard support
      trigger.addEventListener('keydown', (e: Event) => {
        const keyEvent = e as KeyboardEvent;
        if (keyEvent.key === 'Enter' || keyEvent.key === ' ') {
          e.preventDefault();
          if (menu.classList.contains('opacity-0')) {
            showDropdown();
          } else {
            hideDropdown();
          }
        }
      });
    });
    
    // Close dropdowns when clicking outside
    document.addEventListener('click', (event) => {
      const target = event.target as Element;
      if (!target.closest('.dropdown-container')) {
        dropdownContainers.forEach(container => {
          const menu = container.querySelector('.dropdown-menu');
          const icon = container.querySelector('svg');
          if (menu) {
            menu.classList.add('opacity-0', 'invisible', 'translate-y-2');
          }
          if (icon) {
            icon.style.transform = 'rotate(0deg)';
          }
        });
      }
    });
    
    // Mobile menu functionality
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    
    mobileMenuBtn?.addEventListener('click', function() {
      mobileMenu?.classList.toggle('hidden');
    });

    // Close mobile menu when clicking on a link
    const mobileLinks = mobileMenu?.querySelectorAll('a');
    mobileLinks?.forEach(link => {
      link.addEventListener('click', () => {
        mobileMenu?.classList.add('hidden');
      });
    });
  });
</script> 

<style>
  .text-shadow {
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
    color: white !important;
  }
</style> 